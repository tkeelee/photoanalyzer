# 照片信息分析工具

## 项目概述
这是一个用于分析照片EXIF信息的Java工具，能够批量处理照片文件，提取其中的拍摄时间和GPS位置信息，并将结果导出为Excel文件。简单调整后（将 一生足迹 APP数据导出然后把本工程加工的数据整合进去）再导入，生成增量的足迹信息图。

## 主要功能
1. 支持批量扫描指定目录下的所有照片文件（支持JPG、JPEG、PNG、GIF格式）
2. 自动提取照片的EXIF信息，包括：
   - 拍摄时间（原始格式和时间戳）
   - GPS位置信息（原始格式和格式化后的经纬度）
3. 将提取的信息导出为Excel文件，便于后续分析和处理
4. 支持从配置文件读取默认目录路径
5. 提供完整的日志记录，方便追踪程序运行状态
6. 自动跳过隐藏目录，提高处理效率
7. 支持自定义日期时间格式解析
8. 生成的Excel文件包含时间戳，便于文件管理

## 项目结构
```
src/main/java/com/photoanalyzer/
├── core/
│   └── PhotoAnalyzer.java  # 照片分析核心类
├── model/
│   └── PhotoInfo.java      # 照片信息实体类
└── app/
    └── App.java           # 程序入口类
```

## 类说明

### PhotoInfo
照片信息实体类，用于存储单个照片文件的所有相关信息：
- 文件路径和文件名
- 拍摄时间（原始格式和时间戳）
- 位置信息（原始格式和格式化后的经纬度）

### PhotoAnalyzer
照片分析工具类，提供以下核心功能：
- 判断文件是否为支持的照片格式（支持大小写扩展名）
- 提取照片的EXIF信息，包括完整的错误处理
- 解析拍摄时间和GPS位置信息
  - 支持自定义日期时间格式
  - 自动转换为时间戳
  - 格式化GPS坐标为标准格式
- 将分析结果导出为Excel文件
  - 文件名包含时间戳
  - 自动调整列宽
  - 完整的异常处理和日志记录

### App
程序的主入口类，提供交互式命令行界面：
- 支持用户选择输入目录或外接硬盘目录
- 支持使用默认目录路径
- 实现递归遍历目录下的所有照片文件
- 自动跳过隐藏目录
- 集成日志记录功能

## 开发信息
- 开发者：tkee
- 开发语言：Java 8+
- 主要依赖：
  - metadata-extractor 2.16.0：用于读取照片EXIF信息
  - Apache POI 5.2.3：用于生成Excel文件
  - Log4j 2.20.0：用于日志记录
  - JUnit Jupiter 5.8.2：用于单元测试

## 使用说明
1. 运行程序后，会显示操作菜单
2. 选择输入方式：
   - 1：输入本地目录路径
   - 2：输入外接硬盘目录路径
   - 3：退出程序
3. 程序会自动遍历选定目录下的所有照片文件
4. 分析完成后，会在程序运行目录生成带时间戳的Excel文件（格式：photoinfo_yyyyMMdd.xlsx）

## 注意事项
1. 确保照片文件具有读取权限
2. 确保目录路径正确且可访问
3. 如需使用默认目录，请在config.properties中配置directory.path属性
4. 程序会自动跳过隐藏目录和不支持的文件格式
5. 所有操作都会记录在日志文件中，方便追踪和调试
